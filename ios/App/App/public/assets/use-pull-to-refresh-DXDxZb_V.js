import{r as e}from"./react-vendor-XYDEKuIS.js";function Y({onRefresh:c,threshold:t=80,disabled:l=!1}){const[r,u]=e.useState(!1),[n,i]=e.useState(0),a=e.useRef(null),d=e.useRef(null);return e.useEffect(()=>{if(l)return;d.current;let w=0,o=!1;const f=s=>{w=s.touches[0].clientY,o=window.scrollY===0},v=s=>{if(!o||!a.current)return;const E=s.touches[0].clientY-w;E>0&&o&&(s.preventDefault(),u(!0),i(Math.min(E,t*1.5)))},h=async()=>{n>=t&&r&&await c(),u(!1),i(0),a.current=null},m=()=>{o=window.scrollY===0};return window.addEventListener("scroll",m),window.addEventListener("touchstart",f),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("touchend",h),()=>{window.removeEventListener("scroll",m),window.removeEventListener("touchstart",f),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",h)}},[c,t,l,r,n]),{isPulling:r,pullDistance:n,pullProgress:Math.min(n/t,1),elementRef:d}}export{Y as u};
